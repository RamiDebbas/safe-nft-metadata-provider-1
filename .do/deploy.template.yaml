spec:
  alerts:
    - rule: DEPLOYMENT_FAILED
    - rule: DOMAIN_FAILED
  name: safe-nft-metadata-provider
  region: fra
  workers:
    - environment_slug: node-js
      envs:
        - key: RPC_ENDPOINT
          scope: RUN_TIME
          value: https://mainnet.infura.io/v3/YOUR_PROJECT_ID_HERE
        - key: CONTRACT_ADDRESS
          scope: RUN_TIME
          value: 0xYOUR_CONTRACT_ADDRESS
        - key: ASSETS_EXTENSION
          scope: RUN_TIME
          value: .png

        - key: S3_ENDPOINT_URL
          scope: RUN_TIME
          value: https://fra1.digitaloceanspaces.com
        - key: S3_ACCESS_KEY
          scope: RUN_TIME
          value: YOUR_ACCESS_KEY
        - key: S3_SECRET_KEY
          scope: RUN_TIME
          value: YOUR_SECRET_KEY
        - key: S3_BUCKET_NAME
          scope: RUN_TIME
          value: my-bucket
        - key: S3_PATH_PREFIX
          scope: RUN_TIME
      git:
        branch: v2
        repo_clone_url: https://github.com/hashlips-lab/safe-nft-metadata-provider.git
      instance_count: 1
      instance_size_slug: basic-xxs
      name: metadata-provider
      build_command: yarn build
      run_command: yarn start
      source_dir: /
